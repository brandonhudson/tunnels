function initialize(){var e={center:new google.maps.LatLng(43.08458947213062,-77.67322239678955),zoom:17,disableDefaultUI:true,zoomControl:true,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_BOTTOM}};map=new google.maps.Map(document.getElementById("map-canvas"),e);var t=[new google.maps.LatLng(43.086555,-77.668018),new google.maps.LatLng(43.08572,-77.667986),new google.maps.LatLng(43.085735,-77.667144),new google.maps.LatLng(43.085211,-77.667122),new google.maps.LatLng(43.085201,-77.667605),new google.maps.LatLng(43.084653,-77.6676),new google.maps.LatLng(43.08464,-77.66811),new google.maps.LatLng(43.084106,-77.668096),new google.maps.LatLng(43.084098,-77.668783),new google.maps.LatLng(43.083796,-77.668777)];var n=[new google.maps.LatLng(43.085187,-77.668952),new google.maps.LatLng(43.085201,-77.667605)];var r=[new google.maps.LatLng(43.084624,-77.668914),new google.maps.LatLng(43.08464,-77.66811)];var i=[new google.maps.LatLng(43.083785,-77.669397),new google.maps.LatLng(43.0842,-77.66941),new google.maps.LatLng(43.084482,-77.669418),new google.maps.LatLng(43.085321,-77.669445)];var s=[new google.maps.LatLng(43.084231,-77.669982),new google.maps.LatLng(43.084232,-77.66941)];var o=[new google.maps.LatLng(43.084471,-77.669982),new google.maps.LatLng(43.084478,-77.669418)];var u=[new google.maps.LatLng(43.08638,-77.669014),new google.maps.LatLng(43.085999,-77.668999),new google.maps.LatLng(43.085579,-77.668989)];var a=[new google.maps.LatLng(43.086014,-77.668999),new google.maps.LatLng(43.08603,-77.668002)];var f=[new google.maps.LatLng(43.084414,-77.676641),new google.maps.LatLng(43.084465,-77.676641),new google.maps.LatLng(43.084475,-77.67621),new google.maps.LatLng(43.084354,-77.67621),new google.maps.LatLng(43.084344,-77.676641),new google.maps.LatLng(43.084414,-77.676641)];var l=[new google.maps.LatLng(43.084347,-77.676501),new google.maps.LatLng(43.084256,-77.676501),new google.maps.LatLng(43.084164,-77.676412),new google.maps.LatLng(43.084261,-77.676335),new google.maps.LatLng(43.08435,-77.676345)];var c=[new google.maps.LatLng(43.084164,-77.676412),new google.maps.LatLng(43.084087,-77.676412),new google.maps.LatLng(43.084086,-77.676501),new google.maps.LatLng(43.083999,-77.676503),new google.maps.LatLng(43.084,-77.676412),new google.maps.LatLng(43.084001,-77.676328),new google.maps.LatLng(43.084088,-77.676328),new google.maps.LatLng(43.084087,-77.67641)];var h=[new google.maps.LatLng(43.084,-77.676412),new google.maps.LatLng(43.083667,-77.676412)];var p=[new google.maps.LatLng(43.083922,-77.676412),new google.maps.LatLng(43.08393,-77.675991)];var d=[new google.maps.LatLng(43.084414,-77.676641),new google.maps.LatLng(43.0844,-77.677432),new google.maps.LatLng(43.0844,-77.677531),new google.maps.LatLng(43.0844,-77.677432),new google.maps.LatLng(43.084063,-77.677426),new google.maps.LatLng(43.084062999999,-77.677536),new google.maps.LatLng(43.084063,-77.677426),new google.maps.LatLng(43.083719,-77.67742),new google.maps.LatLng(43.0837195,-77.67723),new google.maps.LatLng(43.0834975,-77.67723),new google.maps.LatLng(43.083498,-77.67682),new google.maps.LatLng(43.0834975,-77.67723),new google.maps.LatLng(43.083495,-77.67762),new google.maps.LatLng(43.0834975,-77.67723),new google.maps.LatLng(43.0837195,-77.67723),new google.maps.LatLng(43.0837195,-77.67684)];var v=[new google.maps.LatLng(43.084808,-77.673647),new google.maps.LatLng(43.084808,-77.673738),new google.maps.LatLng(43.084808,-77.67372),new google.maps.LatLng(43.084808,-77.674041),new google.maps.LatLng(43.084136,-77.67402),new google.maps.LatLng(43.08412,-77.675058),new google.maps.LatLng(43.084058,-77.675275),new google.maps.LatLng(43.08412,-77.675058),new google.maps.LatLng(43.083819,-77.675058),new google.maps.LatLng(43.08412,-77.675058),new google.maps.LatLng(43.084346,-77.675052),new google.maps.LatLng(43.08412,-77.675058),new google.maps.LatLng(43.08413,-77.674607),new google.maps.LatLng(43.083913,-77.674607),new google.maps.LatLng(43.083918,-77.674138),new google.maps.LatLng(43.083768,-77.674138),new google.maps.LatLng(43.083918,-77.674138),new google.maps.LatLng(43.08413,-77.674138),new google.maps.LatLng(43.084061,-77.674138),new google.maps.LatLng(43.084061,-77.674138),new google.maps.LatLng(43.084065,-77.673899),new google.maps.LatLng(43.084135,-77.673899),new google.maps.LatLng(43.084135,-77.674138),new google.maps.LatLng(43.08414,-77.673642),new google.maps.LatLng(43.08414,-77.673738),new google.maps.LatLng(43.084808,-77.673738)];var m=new google.maps.Polyline({path:t});var g=new google.maps.Polyline({path:n});var y=new google.maps.Polyline({path:r});var b=new google.maps.Polyline({path:i});var w=new google.maps.Polyline({path:s});var E=new google.maps.Polyline({path:o});var S=new google.maps.Polyline({path:u});var x=new google.maps.Polyline({path:a});var T=new google.maps.Polyline({path:f});var N=new google.maps.Polyline({path:l});var C=new google.maps.Polyline({path:c});var k=new google.maps.Polyline({path:h});var L=new google.maps.Polyline({path:p});var A=new google.maps.Polyline({path:d});var O=new google.maps.Polyline({path:v});var M={geodesic:true,strokeColor:"#835930",strokeOpacity:.2,strokeWeight:14};m.setMap(map);g.setMap(map);y.setMap(map);b.setMap(map);w.setMap(map);E.setMap(map);S.setMap(map);x.setMap(map);T.setMap(map);N.setMap(map);C.setMap(map);k.setMap(map);L.setMap(map);A.setMap(map);O.setMap(map);m.setOptions(M);g.setOptions(M);y.setOptions(M);b.setOptions(M);w.setOptions(M);E.setOptions(M);S.setOptions(M);x.setOptions(M);T.setOptions(M);N.setOptions(M);C.setOptions(M);k.setOptions(M);L.setOptions(M);A.setOptions(M);O.setOptions(M)}function addmarker(e){marker=new google.maps.Marker({position:e,title:"User Location",map:map,icon:iconbase+"newmarker.png"});map.setCenter(e);map.setZoom(19)}function showLocation(e){var t=e.coords.latitude;var n=e.coords.longitude;acc=e.coords.accuracy;var r=e.coords.heading;var i=e.timestamp;myLatLng=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);if(markstat==0){addmarker(myLatLng);markstat=1;accoptions={strokeColor:"#FFB547",strokeOpacity:.3,strokeWeight:1,fillColor:"#FFCC80",fillOpacity:.2,map:map,center:myLatLng,radius:acc*.6};accuracy=new google.maps.Circle(accoptions)}else if(markstat==1){moveBus(map,marker);accuracy.setCenter(myLatLng);accuracy.setRadius(acc*.6);console.log("Moved"+myLatLng)}}function errorHandler(e){if(e.code==1){console.log("Error: Access Denied")}else if(e.code==2){console.log("Browser not Supported")}}function getLocationUpdate(){if(navigator.geolocation){var e={frequency:15e3};geoLoc=navigator.geolocation;watchID=geoLoc.watchPosition(showLocation,errorHandler,e)}else{alert("Sorry, browser does not support geolocation!")}}function moveBus(e,t){t.setPosition(myLatLng);e.setCenter(myLatLng)}var map;var marker;var watchID;var geoLoc;var markstat;var accoptions;var accuracy;var acc;var iconbase="images/";markstat=0;var s=0;google.maps.event.addDomListener(window,"load",initialize)